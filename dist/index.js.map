{"version":3,"file":"index.js","sources":["../src/breakpoints.ts","../src/index.ts"],"sourcesContent":["let breakpoints: [\n  number,\n  number,\n  number,\n  number,\n  number\n] = [480, 600, 840, 1024, 1440];\n\nexport const setBreakpoints = (\n  breaks: [number, number, number, number, number]\n) => {\n  breakpoints = breaks;\n};\n\nexport const getBreakpoints = () => breakpoints;\n","import {\n  useEffect,\n  useState,\n  RefObject,\n} from \"react\";\nimport { getBreakpoints } from \"./breakpoints\";\n\ntype screenClass =\n  | \"xs\"\n  | \"sm\"\n  | \"md\"\n  | \"lg\"\n  | \"xl\"\n  | \"xxl\";\nexport const screenClasses: screenClass[] = [\n  \"xs\",\n  \"sm\",\n  \"md\",\n  \"lg\",\n  \"xl\",\n  \"xxl\",\n];\n\nconst getViewPort = <T>(\n  sourceRef?: RefObject<T & HTMLElement>\n) => {\n  if (\n    sourceRef &&\n    sourceRef &&\n    sourceRef.current!.clientWidth\n  ) {\n    return sourceRef.current!.clientWidth;\n  }\n  if (\n    typeof window !== \"undefined\" &&\n    window.innerWidth\n  ) {\n    return window.innerWidth;\n  }\n  return null;\n};\n\nconst useScreenClass = <T>(\n  sourceRef?: RefObject<T & HTMLElement>,\n  defaultClass?: screenClass\n) => {\n  const getClass = (): screenClass => {\n    let breakpoints = getBreakpoints();\n    let newClass = defaultClass;\n\n    const viewport = getViewPort(sourceRef);\n\n    if (viewport) {\n      newClass = \"xs\";\n      if (\n        breakpoints[0] &&\n        viewport >= breakpoints[0]\n      )\n        newClass = \"sm\";\n      if (\n        breakpoints[1] &&\n        viewport >= breakpoints[1]\n      )\n        newClass = \"md\";\n      if (\n        breakpoints[2] &&\n        viewport >= breakpoints[2]\n      )\n        newClass = \"lg\";\n      if (\n        breakpoints[3] &&\n        viewport >= breakpoints[3]\n      )\n        newClass = \"xl\";\n      if (\n        breakpoints[4] &&\n        viewport >= breakpoints[4]\n      )\n        newClass = \"xxl\";\n    } else if (defaultClass) {\n      newClass = defaultClass;\n    }\n\n    const newScreenClassIndex = screenClasses.indexOf(\n      newClass!\n    );\n    const maxScreenClassIndex = screenClasses.indexOf(\n      newClass!\n    );\n    if (\n      maxScreenClassIndex >= 0 &&\n      newScreenClassIndex > maxScreenClassIndex\n    ) {\n      newClass =\n        screenClasses[maxScreenClassIndex];\n    }\n\n    return newClass!;\n  };\n\n  const [screenClass, setScreenClass] = useState(\n    getClass()\n  );\n\n  useEffect(() => {\n    const handleWindowResized = () =>\n      setScreenClass(getClass());\n\n    window.addEventListener(\n      \"resize\",\n      handleWindowResized,\n      false\n    );\n\n    return () => {\n      window.removeEventListener(\n        \"resize\",\n        handleWindowResized,\n        false\n      );\n    };\n  }, []);\n\n  return screenClass;\n};\n\nexport default useScreenClass;\n"],"names":["useState","useEffect"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,IAAI,WAAW,GAMX,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;AAQzB,IAAM,cAAc,GAAG,cAAM,OAAA,WAAW,GAAA;;ICAlC,aAAa,GAAkB;IAC1C,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,KAAK;EACL;AAEF,IAAM,WAAW,GAAG,UAClB,SAAsC;IAEtC,IACE,SAAS;QACT,SAAS;QACT,SAAS,CAAC,OAAQ,CAAC,WAAW,EAC9B;QACA,OAAO,SAAS,CAAC,OAAQ,CAAC,WAAW,CAAC;KACvC;IACD,IACE,OAAO,MAAM,KAAK,WAAW;QAC7B,MAAM,CAAC,UAAU,EACjB;QACA,OAAO,MAAM,CAAC,UAAU,CAAC;KAC1B;IACD,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;IAEI,cAAc,GAAG,UACrB,SAAsC,EACtC,YAA0B;IAE1B,IAAM,QAAQ,GAAG;QACf,IAAI,WAAW,GAAG,cAAc,EAAE,CAAC;QACnC,IAAI,QAAQ,GAAG,YAAY,CAAC;QAE5B,IAAM,QAAQ,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC;QAExC,IAAI,QAAQ,EAAE;YACZ,QAAQ,GAAG,IAAI,CAAC;YAChB,IACE,WAAW,CAAC,CAAC,CAAC;gBACd,QAAQ,IAAI,WAAW,CAAC,CAAC,CAAC;gBAE1B,QAAQ,GAAG,IAAI,CAAC;YAClB,IACE,WAAW,CAAC,CAAC,CAAC;gBACd,QAAQ,IAAI,WAAW,CAAC,CAAC,CAAC;gBAE1B,QAAQ,GAAG,IAAI,CAAC;YAClB,IACE,WAAW,CAAC,CAAC,CAAC;gBACd,QAAQ,IAAI,WAAW,CAAC,CAAC,CAAC;gBAE1B,QAAQ,GAAG,IAAI,CAAC;YAClB,IACE,WAAW,CAAC,CAAC,CAAC;gBACd,QAAQ,IAAI,WAAW,CAAC,CAAC,CAAC;gBAE1B,QAAQ,GAAG,IAAI,CAAC;YAClB,IACE,WAAW,CAAC,CAAC,CAAC;gBACd,QAAQ,IAAI,WAAW,CAAC,CAAC,CAAC;gBAE1B,QAAQ,GAAG,KAAK,CAAC;SACpB;aAAM,IAAI,YAAY,EAAE;YACvB,QAAQ,GAAG,YAAY,CAAC;SACzB;QAED,IAAM,mBAAmB,GAAG,aAAa,CAAC,OAAO,CAC/C,QAAS,CACV,CAAC;QACF,IAAM,mBAAmB,GAAG,aAAa,CAAC,OAAO,CAC/C,QAAS,CACV,CAAC;QACF,IACE,mBAAmB,IAAI,CAAC;YACxB,mBAAmB,GAAG,mBAAmB,EACzC;YACA,QAAQ;gBACN,aAAa,CAAC,mBAAmB,CAAC,CAAC;SACtC;QAED,OAAO,QAAS,CAAC;KAClB,CAAC;IAEI,IAAA,KAAgCA,cAAQ,CAC5C,QAAQ,EAAE,CACX,EAFM,WAAW,QAAA,EAAE,cAAc,QAEjC,CAAC;IAEFC,eAAS,CAAC;QACR,IAAM,mBAAmB,GAAG;YAC1B,OAAA,cAAc,CAAC,QAAQ,EAAE,CAAC;SAAA,CAAC;QAE7B,MAAM,CAAC,gBAAgB,CACrB,QAAQ,EACR,mBAAmB,EACnB,KAAK,CACN,CAAC;QAEF,OAAO;YACL,MAAM,CAAC,mBAAmB,CACxB,QAAQ,EACR,mBAAmB,EACnB,KAAK,CACN,CAAC;SACH,CAAC;KACH,EAAE,EAAE,CAAC,CAAC;IAEP,OAAO,WAAW,CAAC;AACrB;;;;;"}